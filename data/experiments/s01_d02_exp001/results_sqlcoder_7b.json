{
  "model": "sqlcoder:7b",
  "n_queries": 14,
  "summary": {
    "execution_accuracy": 6,
    "raw_parsability": 12,
    "effective_parsability": 9,
    "retry_rate": 3,
    "post_processing_rate": 1,
    "avg_latency": 30.3
  },
  "per_difficulty": {
    "Easy": {
      "n": 5,
      "execution_accuracy": 4,
      "avg_latency": 9.1
    },
    "Medium": {
      "n": 5,
      "execution_accuracy": 2,
      "avg_latency": 39.5
    },
    "Hard": {
      "n": 4,
      "execution_accuracy": 0,
      "avg_latency": 45.4
    }
  },
  "results": [
    {
      "query_id": "E1",
      "difficulty": "Easy",
      "question": "How many employees are there?",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT COUNT(*) FROM Employee",
      "final_sql": "SELECT COUNT(*) FROM Employee",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": true,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 5.4,
      "actual_result": [[8]],
      "error": null,
      "error_category": null
    },
    {
      "query_id": "E2",
      "difficulty": "Easy",
      "question": "List all media types",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT * FROM MediaType",
      "final_sql": "SELECT * FROM MediaType",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": true,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 5.4,
      "actual_result": [[1, "MPEG audio file"], [2, "Protected AAC audio file"], [3, "Protected MPEG-4 video file"], [4, "Purchased AAC audio file"], [5, "AAC audio file"]],
      "error": null,
      "error_category": null
    },
    {
      "query_id": "E3",
      "difficulty": "Easy",
      "question": "What is the most expensive track?",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT Name, Composer, UnitPrice FROM Track ORDER BY UnitPrice DESC LIMIT 1",
      "final_sql": "SELECT Name, Composer, UnitPrice FROM Track ORDER BY UnitPrice DESC LIMIT 1",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": false,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 7.3,
      "actual_result": [["The Woman King", "Michael Giacchino", 1.99]],
      "error": null,
      "error_category": "logic"
    },
    {
      "query_id": "E4",
      "difficulty": "Easy",
      "question": "How many customers are from Brazil?",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT COUNT(*) FROM Customer WHERE Country = 'Brazil'",
      "final_sql": "SELECT COUNT(*) FROM Customer WHERE Country = 'Brazil'",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": true,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 6.1,
      "actual_result": [[5]],
      "error": null,
      "error_category": null
    },
    {
      "query_id": "E5",
      "difficulty": "Easy",
      "question": "Show the 5 longest tracks by duration",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT Name, Milliseconds FROM Track ORDER BY Milliseconds DESC LIMIT 5",
      "final_sql": "SELECT Name, Milliseconds FROM Track ORDER BY Milliseconds DESC LIMIT 5",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": true,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 21.5,
      "actual_result": [["Occupation / Precipice", 5286953], ["Through a Looking Glass", 5088838], ["Greetings from Earth, Pt. 1", 2960293], ["The Man With the Golden Gun", 2727250], ["Battlestar Galactica, Pt. 2", 2711756]],
      "error": null,
      "error_category": null
    },
    {
      "query_id": "M1",
      "difficulty": "Medium",
      "question": "Which genre has the most tracks?",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT g.Name, COUNT(t.TrackId) AS TrackCount FROM Genre g JOIN Track t ON g.GenreId = t.GenreId GROUP BY g.Name ORDER BY TrackCount DESC LIMIT 1",
      "final_sql": "SELECT g.Name, COUNT(t.TrackId) AS TrackCount FROM Genre g JOIN Track t ON g.GenreId = t.GenreId GROUP BY g.Name ORDER BY TrackCount DESC LIMIT 1",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": true,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 10.0,
      "actual_result": [["Rock", 1297]],
      "error": null,
      "error_category": null
    },
    {
      "query_id": "M2",
      "difficulty": "Medium",
      "question": "How much has each customer spent in total? Show top 5.",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT c.FirstName, c.LastName, SUM(p.Amount) AS TotalSpent FROM Customer c JOIN payment p ON c.CustomerId = p.CustomerId GROUP BY c.FirstName, c.LastName ORDER BY TotalSpent DESC LIMIT 5",
      "final_sql": "SELECT c.FirstName, c.LastName, SUM(p.Amount) AS TotalSpent FROM Customer c JOIN payment p ON c.CustomerId = p.CustomerId GROUP BY c.FirstName, c.LastName ORDER BY TotalSpent DESC LIMIT 5",
      "raw_parsable": true,
      "effectively_parsable": false,
      "execution_accurate": false,
      "post_processing_applied": false,
      "retry_count": 3,
      "latency_seconds": 73.2,
      "actual_result": null,
      "error": "(sqlite3.OperationalError) no such table: payment",
      "error_category": "hallucination"
    },
    {
      "query_id": "M3",
      "difficulty": "Medium",
      "question": "List albums that have more than 20 tracks",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT a.Title, COUNT(t.TrackId) AS TrackCount FROM Album a JOIN Track t ON a.AlbumId = t.AlbumId GROUP BY a.Title HAVING TrackCount > 20 ORDER BY TrackCount DESC",
      "final_sql": "SELECT a.Title, COUNT(t.TrackId) AS TrackCount FROM Album a JOIN Track t ON a.AlbumId = t.AlbumId GROUP BY a.Title HAVING TrackCount > 20 ORDER BY TrackCount DESC",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": false,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 8.1,
      "actual_result": [["Greatest Hits", 57], ["Lost, Season 3", 26], ["Lost, Season 1", 25], ["Lost, Season 2", 24], ["Battlestar Galactica (Classic), Season 1", 24], ["Heroes, Season 1", 23], ["The Office, Season 3", 25], ["Battlestar Galactica, Season 3", 23]],
      "error": null,
      "error_category": "logic"
    },
    {
      "query_id": "M4",
      "difficulty": "Medium",
      "question": "Which employees support the most customers?",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT e.FirstName, e.LastName, COUNT(c.CustomerId) AS CustomerCount FROM Employee e JOIN Customer c ON e.EmployeeId = c.SupportRepId GROUP BY e.FirstName, e.LastName ORDER BY CustomerCount DESC",
      "final_sql": "SELECT e.FirstName, e.LastName, COUNT(c.CustomerId) AS CustomerCount FROM Employee e JOIN Customer c ON e.EmployeeId = c.SupportRepId GROUP BY e.FirstName, e.LastName ORDER BY CustomerCount DESC",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": true,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 12.3,
      "actual_result": [["Jane", "Peacock", 21], ["Margaret", "Park", 20], ["Steve", "Johnson", 18]],
      "error": null,
      "error_category": null
    },
    {
      "query_id": "M5",
      "difficulty": "Medium",
      "question": "What are the top 3 best-selling genres by revenue?",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT g.Name, SUM(il.UnitPrice * il.Quantity) AS TotalRevenue FROM Genre g JOIN Track t ON g.GenreId = t.GenreId JOIN media_type mt ON t.MediaTypeId = mt.MediaTypeId JOIN InvoiceLine il ON t.TrackId = il.TrackId GROUP BY g.Name ORDER BY TotalRevenue DESC LIMIT 3",
      "final_sql": "SELECT g.Name, SUM(il.UnitPrice * il.Quantity) AS TotalRevenue FROM Genre g JOIN Track t ON g.GenreId = t.GenreId JOIN MediaType mt ON t.MediaTypeId = mt.MediaTypeId JOIN InvoiceLine il ON t.TrackId = il.TrackId GROUP BY g.Name ORDER BY TotalRevenue DESC LIMIT 3",
      "raw_parsable": true,
      "effectively_parsable": false,
      "execution_accurate": false,
      "post_processing_applied": true,
      "retry_count": 3,
      "latency_seconds": 93.7,
      "actual_result": null,
      "error": "(sqlite3.OperationalError) no such table: media_type",
      "error_category": "dialect"
    },
    {
      "query_id": "H1",
      "difficulty": "Hard",
      "question": "Which artists have tracks in more than 2 genres?",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT ar.Name, COUNT(DISTINCT g.GenreId) AS GenreCount FROM Artist ar JOIN Album al ON ar.ArtistId = al.ArtistId JOIN Track t ON al.AlbumId = t.AlbumId JOIN Genre g ON t.GenreId = g.GenreId GROUP BY ar.Name HAVING GenreCount > 2 ORDER BY GenreCount DESC",
      "final_sql": "SELECT ar.Name, COUNT(DISTINCT g.GenreId) AS GenreCount FROM Artist ar JOIN Album al ON ar.ArtistId = al.ArtistId JOIN Track t ON al.AlbumId = t.AlbumId JOIN Genre g ON t.GenreId = g.GenreId GROUP BY ar.Name HAVING GenreCount > 2 ORDER BY GenreCount DESC",
      "raw_parsable": true,
      "effectively_parsable": true,
      "execution_accurate": false,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 14.2,
      "actual_result": [["Iron Maiden", 4], ["U2", 4], ["Led Zeppelin", 3], ["Deep Purple", 3], ["Faith No More", 3], ["Pearl Jam", 3], ["Lenny Kravitz", 3], ["Lost", 3], ["Heroes", 3], ["Battlestar Galactica", 3], ["O Rappa", 3]],
      "error": null,
      "error_category": "logic"
    },
    {
      "query_id": "H2",
      "difficulty": "Hard",
      "question": "Find customers who have never purchased a Jazz track",
      "model": "sqlcoder:7b",
      "raw_sql": null,
      "final_sql": null,
      "raw_parsable": false,
      "effectively_parsable": false,
      "execution_accurate": false,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 69.3,
      "actual_result": null,
      "error": "LLM response exceeded context or produced unparseable output",
      "error_category": "runtime"
    },
    {
      "query_id": "H3",
      "difficulty": "Hard",
      "question": "What is the average invoice total by country, only for countries with more than 5 customers?",
      "model": "sqlcoder:7b",
      "raw_sql": null,
      "final_sql": null,
      "raw_parsable": false,
      "effectively_parsable": false,
      "execution_accurate": false,
      "post_processing_applied": false,
      "retry_count": 0,
      "latency_seconds": 51.4,
      "actual_result": null,
      "error": "LLM response exceeded context or produced unparseable output",
      "error_category": "runtime"
    },
    {
      "query_id": "H4",
      "difficulty": "Hard",
      "question": "List the top 3 playlists by total track duration in hours",
      "model": "sqlcoder:7b",
      "raw_sql": "SELECT p.Name, SUM(t.Milliseconds) / 3600000.0 AS TotalDurationHours FROM Playlist p JOIN invoiceintrack it ON p.PlaylistId = it.PlaylistId JOIN Track t ON it.TrackId = t.TrackId GROUP BY p.Name ORDER BY TotalDurationHours DESC LIMIT 3",
      "final_sql": "SELECT p.Name, SUM(t.Milliseconds) / 3600000.0 AS TotalDurationHours FROM Playlist p JOIN invoiceintrack it ON p.PlaylistId = it.PlaylistId JOIN Track t ON it.TrackId = t.TrackId GROUP BY p.Name ORDER BY TotalDurationHours DESC LIMIT 3",
      "raw_parsable": true,
      "effectively_parsable": false,
      "execution_accurate": false,
      "post_processing_applied": false,
      "retry_count": 3,
      "latency_seconds": 46.7,
      "actual_result": null,
      "error": "(sqlite3.OperationalError) no such table: invoiceintrack",
      "error_category": "hallucination"
    }
  ]
}